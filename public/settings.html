<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
    content="DoroDoro - A Pomodoro website to help students focus on their tasks with the famous Pomodoro technique." />
  <meta name="keywords" content="Pomodoro, study, student, university, focus">
  <meta name="author" content="Abdellatif Kebraoui">
  <title>DoroDoro - Settings</title>
  <link rel="stylesheet" href="./styles/style.css" />
  <link rel="stylesheet" href="./styles/setting.css" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>

<body>
  <header>
    <div id="header-left" onclick="{goStartHome()}" aria-label="Go to home page">
      <img src="./assets/Logo.png" alt="DoroDoro Logo" />
      <h4>DoroDoro</h4>
    </div>
    <div id="header-right">
      <button onclick="{goStart()}" aria-label="Go to start page" class="primary-button">Start Timer</button>
      <div id="profil">
        <div class="circle" id="circle" aria-label="Profile menu" role="button" tabindex="0">A</div>
        <div class="popup-sign" id="menu-popup" role="menu">
          <button id="profile-edit" aria-label="Edit your profile">
            <span class="material-symbols-outlined">
              edit
            </span>
            Edit my profile
          </button>
          <button id="logout" aria-label="Sign out from your account">
            <span class="material-symbols-outlined">
              logout
            </span>
            Sign-out
          </button>
        </div>
      </div>
    </div>
  </header>

  <section class="settings-page">
    <div class="illustration">
      <h1>Personalize Your Focus Time</h1>
      <img src="./assets/cerise.png" alt="Decorative cherry illustration" />
    </div>

    <div class="settings-container">
      <div class="title">
        <h2>Settings</h2>
        <div>
          <img src="./assets/settings.png" alt="Settings icon" />
        </div>
      </div>

      <form id="settings-form" class="settings-form" action="#" method="POST">
        <div class="scrollable-items">
          <div class="settingItem">
            <label for="pomoDur">Pomodoro Duration</label>
            <div class="range-container">
              <span class="range-value-min">20</span>
              <div class="range">
                <input type="range" name="pomoDur" id="pomoDur" min="20" max="50" value="25" aria-valuemin="20"
                  aria-valuemax="50" oninput="{ this.nextElementSibling.value = this.value + ' min'}" />
                <input type="text" name="minutes" disabled="disabled"
                  aria-label="Selected pomodoro duration in minutes">
              </div>
              <span class="range-value-max">50</span>
            </div>
            <p class="setting-description">Focus session length (recommended: 25-30 minutes)</p>
          </div>

          <div class="settingItem">
            <label for="sBrDur">Short Break Duration</label>
            <div class="range-container">
              <span class="range-value-min">1</span>
              <div class="range">
                <input type="range" name="sBrDur" id="sBrDur" min="1" value="5" max="10" aria-valuemin="1"
                  aria-valuemax="10" oninput="{ this.nextElementSibling.value = this.value + ' min'}" />
                <input type="text" name="minutes" disabled="disabled"
                  aria-label="Selected short break duration in minutes">
              </div>
              <span class="range-value-max">10</span>
            </div>
            <p class="setting-description">Brief rest between focus sessions</p>
          </div>

          <div class="settingItem">
            <label for="brDur">Long Break Duration</label>
            <div class="range-container">
              <span class="range-value-min">15</span>
              <div class="range">
                <input type="range" name="brDur" id="brDur" min="15" value="20" max="30" aria-valuemin="15"
                  aria-valuemax="30" oninput="{ this.nextElementSibling.value = this.value + ' min'}" />
                <input type="text" name="minutes" disabled="disabled"
                  aria-label="Selected long break duration in minutes">
              </div>
              <span class="range-value-max">30</span>
            </div>
            <p class="setting-description">Extended rest after completing multiple pomodoros</p>
          </div>

          <div class="settingItem">
            <label for="noPomo">Number of Pomodoros</label>
            <div class="range-container">
              <span class="range-value-min">1</span>
              <div class="range">
                <input type="range" name="noPomo" id="noPomo" min="1" value="4" max="10" aria-valuemin="1"
                  aria-valuemax="10" oninput="{ this.nextElementSibling.value = this.value + ' pomos'}" />
                <input type="text" name="nbrOfPomos" disabled="disabled" aria-label="Selected number of pomodoros">
              </div>
              <span class="range-value-max">10</span>
            </div>
            <p class="setting-description">Total focus sessions in one set</p>
          </div>

          <div class="settingItem">
            <label for="lBrInter">Long Break Interval</label>
            <div class="range-container">
              <span class="range-value-min">1</span>
              <div class="range">
                <input type="range" name="lBrInter" id="lBrInter" min="1" value="2" max="4" aria-valuemin="1"
                  aria-valuemax="4" oninput="{ this.nextElementSibling.value = this.value + ' SBr'}" />
                <input type="text" name="long_break_interval" disabled="disabled"
                  aria-label="Selected long break interval">
              </div>
              <span class="range-value-max">4</span>
            </div>
            <p class="setting-description">How many short breaks before a long break</p>
          </div>
        </div>

        <div class="settings-actions">
          <button type="submit" id="submit_settings" class="primary-button">Save Settings</button>
          <button type="button" onclick="{goStart()}" class="secondary-button">Cancel</button>
        </div>
      </form>
    </div>
  </section>

  <!-- Dialogs/Modals -->
  <div class="log_out dialog" id="logout_popup" role="dialog" aria-labelledby="logout-title" aria-modal="true">
    <h2 id="logout-title">Are you sure you want to log out?</h2>
    <div id="logout_btns">
      <button id="logout-yes" class="danger-button">Yes, Log Out</button>
      <button id="logout-no" class="secondary-button">Cancel</button>
    </div>
  </div>

  <div id="profile-edit_popup" class="dialog" role="dialog" aria-labelledby="edit-profile-title" aria-modal="true">
    <h2 id="edit-profile-title">Edit Profile</h2>
    <div class="circle profile-image">A</div>
    <form id="profile-edit-form">
      <div id="inputs">
        <div class="form-group">
          <label for="edit_username">Username</label>
          <input type="text" name="edit-username" id="edit_username" placeholder="Enter your new username">
        </div>
        <div class="form-group">
          <label for="edit_pwd">Password</label>
          <input type="password" name="edit-pwd" id="edit_pwd" placeholder="Enter your new password">
          <small class="helper-text">Leave blank if you don't want to change your password</small>
        </div>
      </div>
      <div class="dialog-actions">
        <button type="submit" id="submit-edit" class="primary-button">Save Changes</button>
        <button type="button" id="cancel_edit" class="secondary-button">Cancel</button>
      </div>
    </form>
  </div>

  <div class="overlay" id="overlay"></div>

  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script>
    var config = {
      apiKey: "AIzaSyAHwYY5X50lv6eKNlvCqUGpve4zbIKU2bA",
      authDomain: "dorodoro-1234.firebaseapp.com",
      databaseURL: "https://dorodoro-1234-default-rtdb.firebaseio.com",
      projectId: "dorodoro-1234",
      storageBucket: "dorodoro-1234.appspot.com",
      messagingSenderId: "210359007345",
      appId: "1:210359007345:web:79bce9199af36c84a983d0",
      measurementId: "G-V17XVPC4KK"
    };
    const app = firebase.initializeApp(config);
  </script>

  <script type="text/javascript" src="./scripts/navigation.js"></script>
  <script type="text/javascript" src="./scripts/popups.js"></script>
  <script type="text/javascript" src="./scripts/pomoSettings.js"></script>
  <script src="./scripts/redirect.js"></script>
  <script src="./scripts/dbAccess.js"></script>
</body>

</html>