<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
    content="DoroDoro - A Pomodoro website to help students focus on their tasks with the famous Pomodoro technique." />
  <meta name="keywords" content="Pomodoro, study, student, university, focus">
  <meta name="author" content="Abdellatif Kebraoui">
  <title>DoroDoro - Focus Time</title>
  <link rel="stylesheet" href="./styles/style.css" />
  <link rel="stylesheet" href="./styles/start.css" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>

<body>
  <header>
    <div id="header-left" onclick="{goStartHome()}" aria-label="Go to home page">
      <img src="./assets/Logo.png" alt="DoroDoro Logo" />
      <h4>DoroDoro</h4>
    </div>
    <div id="header-right">
      <button onclick="{goSettings()}" aria-label="Go to settings page" class="primary-button">Settings</button>
      <div id="profil">
        <div class="circle" id="circle" aria-label="Profile menu" role="button" tabindex="0">A</div>
        <div class="popup-sign" id="menu-popup" role="menu">
          <button id="profile-edit" class="popup-menu-btn" aria-label="Edit your profile">
            <span class="material-symbols-outlined">
              edit
            </span>
            Edit my profile
          </button>
          <button id="logout" class="popup-menu-btn"  aria-label="Sign out from your account">
            <span class="material-symbols-outlined">
              logout
            </span>
            Sign-out
          </button>
        </div>
      </div>
    </div>
  </header>
  
  <section class="timer-container">
    <div class="illustration">
      <h1>Focus Time</h1>
      <img src="./assets/Strong_pepper.png" alt="Strong pepper illustration" />
    </div>
    
    <div class="timer-wrapper">
      <div id="timer-display">
        <div id="count" aria-live="polite">1 out of 4</div>
        <div id="pomo-type" aria-live="polite">Time to focus</div>
      </div>
      
      <div id="countdown" aria-live="assertive">
        <div id="timer-circle">
          <svg>
            <circle id="ring" r="150" cx="160" cy="160" fill="transparent" stroke="#4381A8" stroke-width="15"
              stroke-linecap="round" stroke-dasharray="940" />
          </svg>
          <div id="countdown-number">25:00</div>
        </div>
      </div>
      
      <div class="controls">
        <button id="restart" class="circle-button" aria-label="Restart timer" disabled>
          <span class="material-symbols-outlined">replay</span>
        </button>
        <button id="start" class="start-button" aria-label="Start timer">Start</button>
        <button id="skip" class="circle-button" aria-label="Skip to next session">
          <span class="material-symbols-outlined">skip_next</span>
        </button>
      </div>
      
      <div class="timer-actions">
        <button id="settigns" onclick="{goSettingsPage()}" class="secondary-button">
          <span class="material-symbols-outlined">settings</span>
          Settings
        </button>
      </div>
    </div>
  </section>
  
  <!-- Modals/Dialogs -->
  <div class="log_out dialog" id="logout_popup" role="dialog" aria-labelledby="logout-title" aria-modal="true">
    <h2 id="logout-title">Are you sure you want to log out?</h2>
    <div id="logout_btns">
      <button id="logout-yes" class="danger-button">Yes, Log Out</button>
      <button id="logout-no" class="secondary-button">Cancel</button>
    </div>
  </div>

  <div id="profile-edit_popup" class="dialog" role="dialog" aria-labelledby="edit-profile-title" aria-modal="true">
    <h2 id="edit-profile-title">Edit Profile</h2>
    <div class="circle profile-image">A</div>
    <form id="profile-edit-form">
      <div id="inputs">
        <div class="form-group">
          <label for="edit_username">Username</label>
          <input type="text" name="edit-username" id="edit_username" placeholder="Enter your new username">
        </div>
        <div class="form-group">
          <label for="edit_pwd">Password</label>
          <input type="password" name="edit-pwd" id="edit_pwd" placeholder="Enter your new password">
        </div>
      </div>
      <div class="dialog-actions">
        <button type="submit" id="submit-edit" class="primary-button">Save Changes</button>
        <button type="button" id="cancel_edit" class="secondary-button">Cancel</button>
      </div>
    </form>
  </div>

 
  
  <div class="overlay" id="overlay"></div>


  <script src="https://cdn.jsdelivr.net/npm/animejs@3.0.1/lib/anime.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script>
    var config = {
      apiKey: "AIzaSyAHwYY5X50lv6eKNlvCqUGpve4zbIKU2bA",
      authDomain: "dorodoro-1234.firebaseapp.com",
      databaseURL: "https://dorodoro-1234-default-rtdb.firebaseio.com",
      projectId: "dorodoro-1234",
      storageBucket: "dorodoro-1234.appspot.com",
      messagingSenderId: "210359007345",
      appId: "1:210359007345:web:79bce9199af36c84a983d0",
      measurementId: "G-V17XVPC4KK"
    };
    const app = firebase.initializeApp(config);
  </script>
  <script type="text/javascript" src="./scripts/navigation.js"></script>
  <script type="text/javascript" src="./scripts/popups.js"></script>
  <script type="text/javascript" src="./scripts/redirect.js"></script>
  <script type="text/javascript" src="./scripts/timer.js"></script>
</body>
</html>